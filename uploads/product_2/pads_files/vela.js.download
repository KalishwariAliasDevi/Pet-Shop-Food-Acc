window.vela=window.vela||{},vela.Sections=function(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},vela.Sections.prototype=_.assignIn({},vela.Sections.prototype,{_createInstance:function(container,constructor){var $container=$(container),id=$container.attr("data-section-id"),type=$container.attr("data-section-type");if(constructor=constructor||this.constructors[type],!_.isUndefined(constructor)){var instance=_.assignIn(new constructor(container),{id:id,type:type,container:container});this.instances.push(instance)}},_onSectionLoad:function(evt){var container=$("[data-section-id]",evt.target)[0];container&&this._createInstance(container)},_onSectionUnload:function(evt){this.instances=_.filter(this.instances,function(instance){var isEventInstance=instance.id===evt.originalEvent.detail.sectionId;return isEventInstance&&_.isFunction(instance.onUnload)&&instance.onUnload(evt),!isEventInstance})},_onSelect:function(evt){var instance=_.find(this.instances,function(instance2){return instance2.id===evt.originalEvent.detail.sectionId});!_.isUndefined(instance)&&_.isFunction(instance.onSelect)&&instance.onSelect(evt)},_onDeselect:function(evt){var instance=_.find(this.instances,function(instance2){return instance2.id===evt.originalEvent.detail.sectionId});!_.isUndefined(instance)&&_.isFunction(instance.onDeselect)&&instance.onDeselect(evt)},_onBlockSelect:function(evt){var instance=_.find(this.instances,function(instance2){return instance2.id===evt.originalEvent.detail.sectionId});!_.isUndefined(instance)&&_.isFunction(instance.onBlockSelect)&&instance.onBlockSelect(evt)},_onBlockDeselect:function(evt){var instance=_.find(this.instances,function(instance2){return instance2.id===evt.originalEvent.detail.sectionId});!_.isUndefined(instance)&&_.isFunction(instance.onBlockDeselect)&&instance.onBlockDeselect(evt)},register:function(type,constructor){this.constructors[type]=constructor,$("[data-section-type="+type+"]").each(function(index,container){this._createInstance(container,constructor)}.bind(this))}}),vela.LibraryLoader=function(){var types={link:"link",script:"script"},status={requested:"requested",loaded:"loaded"},cloudCdn="https://cdn.shopify.com/shopifycloud/",libraries={youtubeSdk:{tagId:"youtube-sdk",src:"https://www.youtube.com/iframe_api",type:types.script},plyrShopifyStyles:{tagId:"plyr-shopify-styles",src:cloudCdn+"shopify-plyr/v1.0/shopify-plyr.css",type:types.link},modelViewerUiStyles:{tagId:"shopify-model-viewer-ui-styles",src:cloudCdn+"model-viewer-ui/assets/v1.0/model-viewer-ui.css",type:types.link}};function load(libraryName,callback){var library=libraries[libraryName];if(library&&library.status!==status.requested){if(callback=callback||function(){},library.status===status.loaded){callback();return}library.status=status.requested;var tag;switch(library.type){case types.script:tag=createScriptTag(library,callback);break;case types.link:tag=createLinkTag(library,callback);break}tag.id=library.tagId,library.element=tag;var firstScriptTag=document.getElementsByTagName(library.type)[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}}function createScriptTag(library,callback){var tag=document.createElement("script");return tag.src=library.src,tag.addEventListener("load",function(){library.status=status.loaded,callback()}),tag}function createLinkTag(library,callback){var tag=document.createElement("link");return tag.href=library.src,tag.rel="stylesheet",tag.type="text/css",tag.addEventListener("load",function(){library.status=status.loaded,callback()}),tag}return{load:load}}(),vela.Disclosure=function(){var selectors={disclosureInput:"[data-disclosure-input]",disclosureOptions:"[data-disclosure-option]"};function Disclosure($disclosure){this.$container=$disclosure,this.cache={},this._cacheSelectors(),this._connectOptions()}return Disclosure.prototype=_.assignIn({},Disclosure.prototype,{_cacheSelectors:function(){this.cache={$disclosureInput:this.$container.find(selectors.disclosureInput),$disclosureOptions:this.$container.find(selectors.disclosureOptions)}},_connectOptions:function(){this.cache.$disclosureOptions.on("click",function(evt){evt.preventDefault(),this._submitForm($(evt.currentTarget).data("value"))}.bind(this))},_submitForm:function(value){this.cache.$disclosureInput.val(value),this.$container.parents("form").submit()},unload:function(){this.cache.$disclosureOptions.off(),this.$container.off()}}),Disclosure}(),vela.Currency=function(){var moneyFormat="${{amount}}";function formatMoney(cents,format){typeof cents=="string"&&(cents=cents.replace(".",""));var value="",placeholderRegex=/\{\{\s*(\w+)\s*\}\}/,formatString=format||moneyFormat;function formatWithDelimiters(number,precision,thousands,decimal){if(thousands=thousands||",",decimal=decimal||".",isNaN(number)||number===null)return 0;number=(number/100).toFixed(precision);var parts=number.split("."),dollarsAmount=parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+thousands),centsAmount=parts[1]?decimal+parts[1]:"";return dollarsAmount+centsAmount}switch(formatString.match(placeholderRegex)[1]){case"amount":value=formatWithDelimiters(cents,2);break;case"amount_no_decimals":value=formatWithDelimiters(cents,0);break;case"amount_with_comma_separator":value=formatWithDelimiters(cents,2,".",",");break;case"amount_no_decimals_with_comma_separator":value=formatWithDelimiters(cents,0,".",",");break;case"amount_no_decimals_with_space_separator":value=formatWithDelimiters(cents,0," ");break;case"amount_with_apostrophe_separator":value=formatWithDelimiters(cents,2,"'");break}return formatString.replace(placeholderRegex,value)}return{formatMoney:formatMoney}}(),vela.HeaderSection=function(){var selectors={headerSticky:".sticky-header",headerWhite:".header-white"};function stickyHeader(){var hideheight=$("#shopify-section-header").outerHeight()+$("#shopify-section-announcement-bar").outerHeight(),lastScrollTop=0;$(selectors.headerSticky).length>0&&$(window).scroll(function(){var posScroll=$(window).scrollTop();posScroll<lastScrollTop?posScroll>hideheight?($("#shopify-section-header").removeClass("shopify-section-header-hidden"),$("#shopify-section-header").addClass("sticky-top"),$("#shopify-section-header").addClass("animate"),$("#shopify-section-header").addClass("shadow")):($("#shopify-section-header").removeClass("shadow"),$("#shopify-section-header").removeClass("animate")):posScroll>hideheight?($("#shopify-section-header").addClass("shopify-section-header-hidden"),$("#shopify-section-header").addClass("sticky-top"),$("#shopify-section-header").removeClass("shadow")):$("#shopify-section-header").removeClass("sticky-top"),posScroll>hideheight&&$("#vertical-menu-content").removeClass("show"),lastScrollTop=posScroll})}stickyHeader(),$(window).resize(stickyHeader)}(),typeof ShopifyAPI=="undefined"&&(ShopifyAPI={}),vela.QuickView=function(){var selectors={body:"body",quickView:"[data-quickview]",quickViewTemplate:"#quickview-template",quickViewBtn:".js-btn-quickview",quickViewContainer:"[data-quickview-container]",quickViewClose:"[data-quickview-close]",quickViewImages:"[data-quickview-images]",quickViewReview:"[data-quickview-review]",quickviewVariant:".js-quickview-option-selector",originalSelectorId:"[data-quickview-variant]",quickViewProductPrice:".js-qv-product-price",quickViewProductPriceCompare:".js-qv-product-price-compare",quickViewSKU:"[data-quickview-sku]",quickViewAvaiable:".product-avaiable",quickViewAvaiableInStock:".product-avaiable--instock",quickViewAvaiableOutStock:".product-avaiable--outstock",quickViewProductDetailsURL:".js-qv-product-details"};function QuickView(container){this.$container=$(container),this.cache={},this.productVariants=[],this.currentVariant={},this.cacheSelectors(),this.initializeEvents()}return QuickView.prototype=_.assignIn({},QuickView.prototype,{cacheSelectors:function(){this.cache={$body:$("body"),$quickViewContainer:this.$container.find(selectors.quickViewContainer)}},initializeEvents:function(){var $this=this;$(selectors.body).on("click",selectors.quickViewBtn,function(e){e.preventDefault();var productHandle=$(this).data("handle"),shortProductDesc=$(this).find(".proShortDesc").html();$.getJSON("/products/"+productHandle+".js",function(product){product.available?$this.firstAvailableVariant(product.variants,$this):$this.currentVariant=product.variants[0],$this.buildQuickView(product,shortProductDesc),$this.createImageCarousel(),$this.renderReview(),$this.show()})}),$(selectors.body).on("click",selectors.quickViewClose,function(e){e.preventDefault(),$this.hide()}),$(selectors.quickViewContainer).on("change",selectors.quickviewVariant,function(e){$this.onVariantChange()})},firstAvailableVariant:function(variants,global){global.productVariants=variants;for(var i=0;i<variants.length;i++){var variant=variants[i];if(variant.available){global.currentVariant=variant;break}}},buildQuickView:function(product,shortProductDesc){var moneyFormat=vela.strings.moneyFormat,currentVariant=this.currentVariant,source=$(selectors.quickViewTemplate).html(),template=Handlebars.compile(source),images="",price="",shortDescription=shortProductDesc,qvObject={id:product.id};if(product.media.length>0){images+='<div class="quickview-images__list slick-carousel mx-0" data-quickview-images>';for(var i=0;i<product.media.length;i++){var media=product.media[i];media.media_type==="image"&&(images+='<div class="slick-carousel__item px-0"><div class="quickview-images__item" data-media-id='+media.id+'><img class="img-fluid" alt="'+product.title+'" src="'+media.src+'" /></div></div>')}images+="</div>"}qvObject.variantID=currentVariant.id,qvObject.sku=currentVariant.sku!==null&&currentVariant.sku!==""?currentVariant.sku:"N/A",qvObject.images=images,qvObject.title=product.title,qvObject.url=product.url,price+='<div class="price-container d-flex align-items-center">';var productCompareClass=product.compare_at_price!==null?"":"d-none";price+='<div class="js-qv-product-price product-single__price">'+vela.Currency.formatMoney(product.price,moneyFormat)+"</div>",price+='<div class="js-qv-product-price-compare product-single__price--compare-at ms-2 '+productCompareClass+'">'+vela.Currency.formatMoney(product.compare_at_price,moneyFormat)+"</div>",price+="</div>",qvObject.price=price,qvObject.shortDescription=shortDescription,qvObject.vendor=product.vendor,qvObject.type=product.type,qvObject.variants=this.buildVariant(product),$(selectors.quickViewContainer).html(template(qvObject)),this.updateMedia(currentVariant),this.updateSKU(currentVariant),this.updateProductAvaiable(currentVariant),this.updateDetailsLink(currentVariant),this.updateToolTip(),this.qvAddToCart()},convertToSlug:function(str){return str.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},buildVariant:function(product){var result="",currentVariant=this.currentVariant;if(product.options[0].name!=="Title")for(var options=product.options,i=0;i<options.length;i++){var option=options[i],optionIndex=i+1;if(result+='<div class="variants-wrapper product-form__item" data-quickview-variant-option="'+optionIndex+'">',result+='<label class="variants__label">'+option.name+"</label>",result+='<div class="variants__options">',vela.settings.quickViewVariantType==="select"){result+='<select class="js-quickview-option-selector product-form__input" data-id="quickViewOptionSelector-'+optionIndex+'" data-index="option'+optionIndex+'">';for(var j=0;j<option.values.length;j++){var value=option.values[j];result+='<option value="'+_.escape(value)+'" ',result+=currentVariant.options[i]===value?'selected="selected"':"",result+=">"+value+"</option>"}result+="</select>"}else if(vela.settings.quickViewVariantType==="radio")for(var j=0;j<option.values.length;j++){for(var value=option.values[j],isDisable=!0,colorAttribute="",k=0;k<this.productVariants.length;k++){var variantCondition=this.productVariants[k];if(variantCondition.available){if(i==0&&variantCondition.option1===value){isDisable=!1;break}else if(i==1&&variantCondition.option2===value&&variantCondition.option1==currentVariant.option1){isDisable=!1;break}else if(i==2&&variantCondition.option3===value&&variantCondition.option2==currentVariant.option2&&variantCondition.option1==currentVariant.option1){isDisable=!1;break}}}if(vela.settings.quickViewColorSwatch&&(option.name.toLowerCase()=="color"||option.name.toLowerCase()=="colour")){var colorName=this.convertToSlug(value);colorAttribute='data-color="'+colorName+'" ',colorAttribute+='data-qv-toggle="tooltip" title="'+value+'"',colorAttribute+='style="background-color: '+colorName+"; background-image: url("+vela.settings.fileURL+colorName+'.png)"'}result+='<div class="single-option-selector">',result+='<input type="radio" data-single-option-button',result+=currentVariant.options[i]===value?" checked ":" ",isDisable&&(result+='disabled="disabled"'),result+='value="'+_.escape(value)+'" data-index="option'+optionIndex+'" name="option'+option.position+'" ',result+='class="js-quickview-option-selector',isDisable&&(result+=" disabled"),result+='" id="quickview-product-option-'+i+"-"+value.toLowerCase()+'">',result+='<label for="quickview-product-option-'+i+"-"+value.toLowerCase()+'" '+colorAttribute,isDisable&&(result+=' class="disabled"'),result+=">"+value+'<span class="d-none"></span></label>',result+="</div>"}result+="</div>",result+="</div>"}return result},createImageCarousel:function(){$(selectors.quickView).find(selectors.quickViewImages).slick({infinite:!1,rows:0})},renderReview:function(){if(window.SPR&&vela.settings.enableReview&&$(selectors.quickView).find(selectors.quickViewReview).length)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},qvAddToCart:function(){vela.settings.cartType!="page"&&ajaxCart.init({formSelector:".formQuickview",cartContainer:"[data-cart-container]",addToCartSelector:'button[type="submit"]',cartCountSelector:"[data-cart-count]",cartCostSelector:"[data-cart-cost]",moneyFormat:vela.strings.moneyFormat})},getCurrentOptions:function(){var currentOptions=_.map($(selectors.quickviewVariant,selectors.quickViewContainer),function(element){var $element=$(element),type=$element.attr("type"),currentOption={};return type==="radio"||type==="checkbox"?$element[0].checked?(currentOption.value=$element.val(),currentOption.index=$element.data("index"),currentOption):!1:(currentOption.value=$element.val(),currentOption.index=$element.data("index"),currentOption)});return currentOptions=_.compact(currentOptions),currentOptions},getVariantFromOptions:function(){var selectedValues=this.getCurrentOptions(),variants=this.productVariants,found=_.find(variants,function(variant){return selectedValues.every(function(values){return _.isEqual(variant[values.index],values.value)})});return found},updateVariantsButton:function(){for(var selectedValues=this.getCurrentOptions(),variants=this.productVariants,i=2;i<=3;i++)$('[data-quickview-variant-option="'+i+'"]',selectors.quickViewContainer).length&&$('[data-quickview-variant-option="'+i+'"] '+selectors.quickviewVariant,selectors.quickViewContainer).each(function(){var $self=$(this),optionValue=$self.val(),foundIndex;i===2?foundIndex=_.findIndex(variants,function(variant){return variant.option1===selectedValues[0].value&&variant.option2===optionValue&&variant.available===!0}):i===3&&(foundIndex=_.findIndex(variants,function(variant){return variant.option1===selectedValues[0].value&&variant.option2===selectedValues[1].value&&variant.option3===optionValue&&variant.available===!0})),foundIndex!==-1?($self.removeAttr("disabled","disabled").removeClass("disabled"),$self.next("label").removeClass("disabled")):($self.attr("disabled","disabled").addClass("disabled"),$self.next("label").addClass("disabled"))})},updateVariantsButtonDisabed:function(){for(var i=2;i<=3;i++)if($('[data-quickview-variant-option="'+i+'"]',selectors.quickViewContainer).length){var isUpdate=!1;$('[data-quickview-variant-option="'+i+'"] '+selectors.quickviewVariant,selectors.quickViewContainer).each(function(){var $element=$(this),type=$element.attr("type");if((type==="radio"||type==="checkbox")&&this.checked&&$element.hasClass("disabled"))return $element.prop("checked",!1),isUpdate=!0,!1}),$('[data-quickview-variant-option="'+i+'"] '+selectors.quickviewVariant,selectors.quickViewContainer).each(function(){var $element=$(this),type=$element.attr("type");if(isUpdate&&(type==="radio"||type==="checkbox")&&!$element.hasClass("disabled"))return $element.prop("checked",!0),isUpdate=!1,$element.trigger("change"),!1})}},updateMasterSelect:function(variant){variant&&$(selectors.originalSelectorId,selectors.quickViewContainer).val(variant.id)},updateMedia:function(variant){variant&&variant.featured_media&&variant.featured_media.id&&$(selectors.quickViewImages,selectors.quickViewContainer).find(".quickview-images__item").each(function(){var imageID=$(this).data("media-id");if(variant.featured_media.id==imageID){var slickIndex=$(this).closest(".slick-carousel__item").data("slick-index");slickIndex!=null&&$(selectors.quickViewImages,selectors.quickViewContainer).slick("slickGoTo",slickIndex)}})},updatePrice:function(variant){var moneyFormat=vela.strings.moneyFormat;variant?($(selectors.quickViewProductPrice,selectors.quickViewContainer).removeClass("d-none"),$(selectors.quickViewProductPriceCompare,selectors.quickViewContainer).removeClass("d-none"),$(selectors.quickViewProductPrice,selectors.quickViewContainer).html(vela.Currency.formatMoney(variant.price,moneyFormat)),variant.compare_at_price>variant.price?($(selectors.quickViewProductPriceCompare,selectors.quickViewContainer).html(vela.Currency.formatMoney(variant.compare_at_price,moneyFormat)).removeClass("d-none"),$(selectors.quickViewProductPrice,selectors.quickViewContainer).addClass("on-sale")):($(selectors.quickViewProductPriceCompare,selectors.quickViewContainer).addClass("d-none"),$(selectors.quickViewProductPrice,selectors.quickViewContainer).removeClass("on-sale"))):($(selectors.quickViewProductPrice,selectors.quickViewContainer).addClass("d-none"),$(selectors.quickViewProductPriceCompare,selectors.quickViewContainer).addClass("d-none"))},updateSKU:function(variant){var sku=variant&&variant.sku!==null&&variant.sku!==""?variant.sku:"N/A";$(selectors.quickViewSKU,selectors.quickViewContainer).html(sku)},updateProductAvaiable:function(variant){var classActive="product-avaiable--active",translations=vela.strings;$(selectors.quickViewAvaiable,selectors.quickViewContainer).removeClass(classActive),variant?(variant.available?($(selectors.quickViewQty,selectors.quickViewContainer).removeClass("d-none"),$(selectors.quickViewAvaiableInStock,selectors.quickViewContainer).addClass(classActive)):($(selectors.quickViewQty,selectors.quickViewContainer).addClass("d-none"),$(selectors.quickViewAvaiableOutStock,selectors.quickViewContainer).addClass(classActive)),variant.available?($(selectors.quickViewContainer).find(".btn--add-to-cart").removeClass("disabled").prop("disabled",!1),$(selectors.quickViewContainer).find(".btn--add-to-cart .btn__text").html(translations.addToCart)):($(selectors.quickViewContainer).find(".btn--add-to-cart").addClass("disabled").prop("disabled",!0),$(selectors.quickViewContainer).find(".btn--add-to-cart .btn__text").html(translations.soldOut))):($(selectors.quickViewQty,selectors.quickViewContainer).addClass("d-none"),$(selectors.quickViewContainer).find(".btn--add-to-cart").addClass("disabled").prop("disabled",!0),$(selectors.quickViewContainer).find(".btn--add-to-cart .btn__text").html(translations.unavailable))},updateDetailsLink:function(variant){if(variant){var productURL=$(selectors.quickViewProductDetailsURL,selectors.quickViewContainer).data("url")+"?variant="+variant.id;$(selectors.quickViewProductDetailsURL,selectors.quickViewContainer).removeClass("d-none").attr("href",productURL)}else $(selectors.quickViewProductDetailsURL,selectors.quickViewContainer).addClass("d-none")},updateToolTip:function(){$('[data-qv-toggle="tooltip"]',selectors.quickViewContainer).tooltip()},onVariantChange:function(){var variant=this.getVariantFromOptions();if($("[data-single-option-button]",selectors.quickViewContainer).length&&(this.updateVariantsButton(),!variant||!variant.available)){this.updateVariantsButtonDisabed();return}this.updateMasterSelect(variant),this.updateMedia(variant),this.updatePrice(variant),this.updateSKU(variant),this.updateProductAvaiable(variant),this.updateDetailsLink(variant),this.currentVariant=variant},show:function(){$(selectors.body).addClass("quickview-active"),$(selectors.quickView).addClass("show")},hide:function(){$(selectors.quickViewContainer).html(),$(selectors.body).removeClass("quickview-active"),$(selectors.quickView).removeClass("show")}}),QuickView}(),ShopifyAPI.attributeToString=function(attribute){return typeof attribute!="string"&&(attribute+="",attribute==="undefined"&&(attribute="")),jQuery.trim(attribute)},ShopifyAPI.onCartUpdate=function(){},ShopifyAPI.updateCartNote=function(note,callback){var params={type:"POST",url:"/cart/update.js",data:"note="+ShopifyAPI.attributeToString(note),dataType:"json",success:function(cart){typeof callback=="function"?callback(cart):ShopifyAPI.onCartUpdate(cart)},error:function(XMLHttpRequest2,textStatus){ShopifyAPI.onError(XMLHttpRequest2,textStatus)}};jQuery.ajax(params)},ShopifyAPI.onError=function(XMLHttpRequest){var data=eval("("+XMLHttpRequest.responseText+")");data.message&&alert(data.message+"("+data.status+"): "+data.description)},ShopifyAPI.addItemFromForm=function(form,callback,errorCallback){var formData=new FormData(form),params={type:"POST",url:"/cart/add.js",data:formData,processData:!1,contentType:!1,dataType:"json",success:function(line_item){typeof callback=="function"?callback(line_item,form):ShopifyAPI.onItemAdded(line_item,form)},error:function(XMLHttpRequest2,textStatus){typeof errorCallback=="function"?errorCallback(XMLHttpRequest2,textStatus):ShopifyAPI.onError(XMLHttpRequest2,textStatus)}};jQuery.ajax(params)},ShopifyAPI.getCart=function(callback,added){jQuery.getJSON("/cart.js",function(cart){typeof callback=="function"?callback(cart,added):ShopifyAPI.onCartUpdate(cart)})},ShopifyAPI.changeItem=function(line,quantity,callback){var params={type:"POST",url:"/cart/change.js",data:"quantity="+quantity+"&line="+line,dataType:"json",success:function(cart){typeof callback=="function"?callback(cart):ShopifyAPI.onCartUpdate(cart)},error:function(XMLHttpRequest2,textStatus){ShopifyAPI.onError(XMLHttpRequest2,textStatus)}};jQuery.ajax(params)};var ajaxCart=function(module,$){"use strict";var init,loadCart,settings,isUpdating,$body,$formContainer,$addToCart,$cartCountSelector,$cartCostSelector,$cartContainer,initializeEvents,updateCountPrice,formOverride,itemAddedCallback,itemErrorCallback,cartModalAdded,cartUpdateCallback,buildCart,cartCallback,adjustCart,adjustCartCallback,validateQty;return init=function(options){settings={formSelector:"[data-product-form]",cartContainer:"[data-cart-container]",addToCartSelector:'button[type="submit"]',cartCountSelector:"[data-cart-count]",cartCostSelector:"[data-cart-cost]",cartRemoveSelector:"[data-cart-remove]",headerCartSelector:".js-header-cart",cartModalSelector:".js-cart-modal",cartModalCloseSelector:".js-cart-modal-close",moneyFormat:"${{amount}}",disableAjaxCart:!1,cartTemplate:"#ajaxcart-template",cartModalHeaderTemplate:"#ajaxcart-header-template"},$.extend(settings,options),$formContainer=$(settings.formSelector),$cartContainer=$(settings.cartContainer),$addToCart=$formContainer.find(settings.addToCartSelector),$cartCountSelector=$(settings.cartCountSelector),$cartCostSelector=$(settings.cartCostSelector),$body=$("body"),isUpdating=!1,initializeEvents(),!settings.disableAjaxCart&&$addToCart.length&&formOverride(),adjustCart()},initializeEvents=function(){$body.on("click",settings.cartModalCloseSelector,function(){$(settings.cartModalSelector).fadeOut(400,function(){$(this).remove()})}),$body.on("click",settings.headerCartSelector,function(e){if(vela.settings.cartType=="modal"&&$(window).width()>767){e.preventDefault();return}}),$body.on("click",settings.cartRemoveSelector,function(e){if(!isUpdating){var $el=$(this),line=$el.data("line");line&&(isUpdating=!0,setTimeout(function(){ShopifyAPI.changeItem(line,0,adjustCartCallback)},250))}}),$body.on("change",".ajaxcart__note-input",function(){var newNote=$(this).val();ShopifyAPI.updateCartNote(newNote,function(){})})},loadCart=function(){$body.addClass("ajaxcart--is-loading"),ShopifyAPI.getCart(cartUpdateCallback)},updateCountPrice=function(cart){$cartCountSelector&&$cartCountSelector.html(cart.item_count),$cartCostSelector&&$cartCostSelector.html(vela.Currency.formatMoney(cart.total_price,vela.strings.moneyFormat))},formOverride=function(){$body.on("submit",settings.formSelector,function(evt){evt.preventDefault(),$(".ajaxcart-toast").toast("hide"),ShopifyAPI.addItemFromForm(evt.target,itemAddedCallback,itemErrorCallback)})},itemAddedCallback=function(lineItem){vela.settings.cartType=="modal"&&cartModalAdded(lineItem),ShopifyAPI.getCart(cartUpdateCallback,!0)},itemErrorCallback=function(XMLHttpRequest){var data=eval("("+XMLHttpRequest.responseText+")");if(data.message&&data.status===422){var $toast=$(".ajaxcart-toast");$toast.find(".toast-body").html(data.description),$toast.toast("show")}},cartModalAdded=function(lineItem){var data2={},image="//cdn.shopify.com/s/assets/admin/no-image-medium-cc9732cb976dd349a0df1d39816fbcc7.gif",source=$(settings.cartModalHeaderTemplate).html(),template=Handlebars.compile(source);lineItem.image!=null&&(image=lineItem.image),data2={name:lineItem.title,image:image},$body.append(template(data2)),$(".js-cart-modal").fadeIn(400)},cartUpdateCallback=function(cart,added){updateCountPrice(cart),buildCart(cart),added&&$body.trigger("drawer.open")},buildCart=function(cart){if($cartContainer.empty(),cart.item_count===0){$cartContainer.append('<p class="cart-empty-message">'+vela.strings.cartEmpty+'</p>\n<p class="cookie-message">'+vela.strings.cartCookies+"</p>"),cartCallback(cart);return}var items=[],item={},data2={},source=$(settings.cartTemplate).html(),template=Handlebars.compile(source);$.each(cart.items,function(index,cartItem){var prodImg,unitPrice=null;if(cartItem.image!==null?prodImg=cartItem.image.replace(/(\.[^.]*)$/,"_small$1").replace("http:",""):prodImg="//cdn.shopify.com/s/assets/admin/no-image-medium-cc9732cb976dd349a0df1d39816fbcc7.gif",cartItem.properties!==null&&$.each(cartItem.properties,function(key,value){(key.charAt(0)==="_"||!value)&&delete cartItem.properties[key]}),cartItem.properties!==null&&$.each(cartItem.properties,function(key,value){(key.charAt(0)==="_"||!value)&&delete cartItem.properties[key]}),cartItem.line_level_discount_allocations.length!==0)for(var discount in cartItem.line_level_discount_allocations){var amount=cartItem.line_level_discount_allocations[discount].amount;cartItem.line_level_discount_allocations[discount].formattedAmount=vela.Currency.formatMoney(amount,vela.strings.moneyFormat)}if(cart.cart_level_discount_applications.length!==0)for(var cartDiscount in cart.cart_level_discount_applications){var cartAmount=cart.cart_level_discount_applications[cartDiscount].total_allocated_amount;cart.cart_level_discount_applications[cartDiscount].formattedAmount=vela.Currency.formatMoney(cartAmount,vela.strings.moneyFormat)}cartItem.unit_price_measurement&&(unitPrice={addRefererenceValue:cartItem.unit_price_measurement.reference_value!==1,price:vela.Currency.formatMoney(cartItem.unit_price,vela.strings.moneyFormat),reference_value:cartItem.unit_price_measurement.reference_value,reference_unit:cartItem.unit_price_measurement.reference_unit}),item={key:cartItem.key,line:index+1,url:cartItem.url,img:prodImg,name:cartItem.product_title,variation:cartItem.variant_title,properties:cartItem.properties,itemAdd:cartItem.quantity+1,itemMinus:cartItem.quantity-1,itemQty:cartItem.quantity,price:vela.Currency.formatMoney(cartItem.original_line_price,vela.strings.moneyFormat),discountedPrice:vela.Currency.formatMoney(cartItem.final_line_price,vela.strings.moneyFormat),discounts:cartItem.line_level_discount_allocations,discountsApplied:cartItem.line_level_discount_allocations.length!==0,vendor:cartItem.vendor,unitPrice:unitPrice},items.push(item)}),data2={items:items,note:cart.note,totalPrice:vela.Currency.formatMoney(cart.total_price,vela.strings.moneyFormat),cartDiscounts:cart.cart_level_discount_applications,cartDiscountsApplied:cart.cart_level_discount_applications.length!==0},$cartContainer.append(template(data2)),cartCallback(cart)},cartCallback=function(cart){$body.removeClass("ajaxcart--is-loading"),window.Shopify&&Shopify.StorefrontExpressButtons&&Shopify.StorefrontExpressButtons.initialize(),$body.trigger("drawer.footer")},adjustCart=function(){$body.on("click",".ajaxcart__qty-adjust",function(){if(!isUpdating){var $el=$(this),line=$el.data("line"),$qtySelector=$el.siblings(".ajaxcart__qty-num"),qty=parseInt($qtySelector.val().replace(/\D/g,""));qty=validateQty(qty),$el.hasClass("ajaxcart__qty--plus")?qty+=1:(qty-=1,qty<=0&&(qty=0)),line?updateQuantity(line,qty):$qtySelector.val(qty)}}),$body.on("change",".ajaxcart__qty-num",function(){if(!isUpdating){var $el=$(this),line=$el.data("line"),qty=parseInt($el.val().replace(/\D/g,""));qty=validateQty(qty),line&&updateQuantity(line,qty)}}),$body.on("submit","form.ajaxcart",function(evt){isUpdating&&evt.preventDefault()}),$body.on("focus",".ajaxcart__qty-adjust",function(){var $el=$(this);setTimeout(function(){$el.select()},50)});function updateQuantity(line,qty){isUpdating=!0;var $row=$('.ajaxcart__product[data-line="'+line+'"]').addClass("is-loading");qty===0&&$row.parent().addClass("is-removed"),setTimeout(function(){ShopifyAPI.changeItem(line,qty,adjustCartCallback)},250)}},adjustCartCallback=function(cart){updateCountPrice(cart),setTimeout(function(){ShopifyAPI.getCart(buildCart),isUpdating=!1},150)},validateQty=function(qty){return parseFloat(qty)===parseInt(qty)&&!isNaN(qty)||(qty=1),qty},module={init:init,load:loadCart},module}(ajaxCart||{},jQuery);vela.drawerCart=function(module2){var $body2,$drawer,drawerCloseSelector,headerCartSelector,drawerIsOpen,init2,drawerOpen,drawerClose,drawerFooter,classes={open:"drawer--open"};return init2=function(){$body2=$("body"),$drawer=$(".js-drawer"),drawerCloseSelector=".js-drawer-close",headerCartSelector=".js-header-cart",drawerIsOpen=!1,$body2.on("drawer.open",function(evt){drawerOpen(evt)}),$body2.on("drawer.close",function(evt){drawerClose(evt)}),$body2.on("drawer.footer",function(){drawerFooter()}),$body2.on("click",headerCartSelector,function(evt){evt.preventDefault(),$body2.trigger("drawer.open",evt)}),$body2.on("click",drawerCloseSelector,function(evt){evt.preventDefault(),$body2.trigger("drawer.close",evt)})},drawerOpen=function(evt){if(drawerIsOpen){evt&&evt.preventDefault();return}evt&&evt.preventDefault(),$body2.addClass(classes.open),drawerIsOpen=!0},drawerClose=function(evt){drawerIsOpen&&(evt.keyCode!==27&&evt.preventDefault(),$body2.removeClass(classes.open),drawerIsOpen=!1)},drawerFooter=function(){if($drawer.hasClass("drawer--has-fixed-footer")){var $cartFooter=$(".ajaxcart__footer").removeAttr("style"),$cartInner=$(".ajaxcart__inner").removeAttr("style"),cartFooterHeight=$cartFooter.outerHeight();$cartInner.css("bottom",cartFooterHeight),$cartFooter.css("height",cartFooterHeight)}},module2={init:init2},module2}(),vela.variables={productPageLoad:!1,productPageSticky:!0,mediaTablet:"screen and (max-width: 1024px)",mediaMobile:"screen and (max-width: 767px)",isTablet:!1,isMobile:!1},vela.initializeEvents=function(){var $body2=$("body"),passwordToggle=".js-password-toggle",scrollToTop=".js-scroll-to-top",collectionSidebarToggle=".js-sidebar-toggle",classes={passwordShow:"password-toggle--show"};$body2.on("click",passwordToggle,function(e){e.preventDefault();var $this=$(this),$passwordField=$this.siblings(".form-control"),isShow=!!$this.hasClass(classes.passwordShow);isShow?($this.removeClass(classes.passwordShow),$passwordField.attr("type","password")):($this.addClass(classes.passwordShow),$passwordField.attr("type","text"))}),$body2.on("click",scrollToTop,function(e){e.preventDefault(),$("body, html").stop().animate({scrollTop:0},"500")}),$body2.on("click",collectionSidebarToggle,function(evt){evt.preventDefault(),$body2.toggleClass("collection-sidebar--open")}),$(window).scroll(function(){$(window).scrollTop()>=200?$(scrollToTop).fadeIn():$(scrollToTop).fadeOut()})},vela.setBreakpoints=function(){enquire.register(vela.variables.mediaTablet,{match:function(){vela.variables.isTablet=!0},unmatch:function(){vela.variables.isTablet=!1}}),enquire.register(vela.variables.mediaMobile,{match:function(){vela.variables.isMobile=!0},unmatch:function(){vela.variables.isMobile=!1}})},vela.updateSlickSwipe=function(element,allowSwipe){if(element.hasClass("slick-initialized")){var slickOptions={accessibility:allowSwipe,draggable:allowSwipe,swipe:allowSwipe,touchMove:allowSwipe};element.slick("slickSetOption",slickOptions,!1)}},vela.showLoading=function(){$("body").append(vela.loading!=null&&vela.loading!=""?vela.loading:"")},vela.hideLoading=function(){$(".vela-loading").remove()},vela.cartInit=function(){var $body2=$("body");vela.cookiesEnabled()||$body2.addClass("cart--no-cookies"),(vela.settings.cartType=="modal"||vela.settings.cartType=="drawer")&&(ajaxCart.init(),ajaxCart.load(),vela.settings.cartType=="drawer"&&vela.drawerCart.init())},vela.cookiesEnabled=function(){var cookieEnabled=navigator.cookieEnabled;return cookieEnabled||(document.cookie="webcookie",cookieEnabled=document.cookie.indexOf("webcookie")!==-1),cookieEnabled},vela.setCookie=function(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+exdays*24*60*60*1e3);var expires="expires="+d.toGMTString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},vela.getCookie=function(cname){for(var name=cname+"=",decodedCookie=decodeURIComponent(document.cookie),cookieArray=decodedCookie.split(";"),i=0;i<cookieArray.length;i++){for(var cookieItem=cookieArray[i];cookieItem.charAt(0)===" ";)cookieItem=cookieItem.substring(1);if(cookieItem.indexOf(name)===0)return cookieItem.substring(name.length,cookieItem.length)}return""},vela.cookieConsent=function(){var cConsent=vela.getCookie("cookie_consent"),cConsentSelector=$(".cookie-consent"),cConsentDismiss=".cookie-consent-dismiss";cConsent=="true"?cConsentSelector.remove():(setTimeout(function(){cConsentSelector.addClass("active")},1500),cConsent==""&&vela.setCookie("cookie_consent",!1,365)),$("body").on("click",cConsentDismiss,function(e){e.preventDefault(),cConsentSelector.remove(),vela.setCookie("cookie_consent",!0,365)})},vela.slideshow=function(){var slideshow=".js-vela-slideshow",fade=$(slideshow).data("fade"),autoplay=$(slideshow).data("autoplay"),autoplayInterval=$(slideshow).data("autoplayinterval"),autoplayNavigation=$(slideshow).data("navigation"),autoplayPagination=$(slideshow).data("pagination"),config={fade:!0,rows:0,arrows:autoplayNavigation,autoplay:autoplay,autoplaySpeed:autoplayInterval};fade===void 0||fade==null||(config.fade=fade),autoplayInterval===void 0||autoplayInterval==null||(config.autoplaySpeed=autoplayInterval),autoplayPagination===void 0||autoplayPagination==null||autoplayPagination!=!0?config.dots=!1:config.dots=!0,$(slideshow).slick(config)},vela.slickCarousel=function(){var velCarousel=".js-carousel";$(velCarousel).each(function(){var $element=$(this),nav=$element.data("nav"),dots=$element.data("dots"),center=$element.data("center"),infinite=$element.data("infinite"),autoplay=$element.data("autoplay"),autoplaySpeed=$element.data("autoplayspeed"),columnone=$element.data("columnone"),columntwo=$element.data("columntwo"),columnthree=$element.data("columnthree"),columnfour=$element.data("columnfour"),rows=$element.data("rows"),config={swipeToSlide:!0,arrows:nav,slidesToShow:columnone,responsive:[{breakpoint:1025,settings:{slidesToShow:columntwo}},{breakpoint:768,settings:{slidesToShow:columnthree}},{breakpoint:576,settings:{slidesToShow:columnfour}}]};center===void 0||center==null||center!=!0?config.centerMode=!1:config.centerMode=!0,dots===void 0||dots==null||dots!=!0?config.dots=!1:config.dots=!0,infinite===void 0||infinite==null||infinite!=!0?config.infinite=!1:config.infinite=!0,autoplay&&(config.autoplay=autoplay,config.autoplaySpeed=autoplaySpeed),rows!==void 0&&rows!=null&&rows!=1?(config.rows=rows,config.slidesPerRow=columnone,config.slidesToShow=1,config.responsive=[{breakpoint:1025,settings:{slidesPerRow:columntwo,slidesToShow:1}},{breakpoint:768,settings:{slidesPerRow:columnthree,slidesToShow:1}}]):config.rows=0,$element.slick(config)}),$(".product-tabs__nav-link").on("shown.bs.tab",function(){var productTabs=$(this).closest(".product-tabs");productTabs.find(velCarousel).length>0&&productTabs.find(velCarousel).slick("setPosition")})},vela.countdown=function(){var countdown="[data-countdown]";$(countdown).each(function(){var $this=$(this),finalDate=$(this).data("countdown");$this.countdown(finalDate,function(event){var strTime='<div class="countdown__item"><span>%D</span><span>'+vela.strings.countdownDays+'</span></div><div class="countdown__item"><span>%H</span><span>'+vela.strings.countdownHours+'</span></div><div class="countdown__item"><span>%M</span><span>'+vela.strings.countdownMinutes+'</span></div><div class="countdown__item"><span>%S</span><span>'+vela.strings.countdownSeconds+"</span></div>";$this.html(event.strftime(strTime))}).on("finish.countdown",function(){$this.html(vela.strings.countdownFinish)})})},vela.newsletter=function(){var alertNewsletter;$(".js-vela-newsletter").each(function(){var $form=$(this);$form.on("submit",function(event){event.preventDefault(),$(".js-alert-newsletter").remove(),$.ajax({type:$form.attr("method"),url:$form.attr("action"),data:$form.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",success:function(data2){data2.result==="success"?($form.prepend(alertNewsletter(vela.strings.newsletterSuccess,"success")),$(".js-input-newsletter").val("")):$form.prepend(alertNewsletter(data2.msg.replace("0 - ",""),"danger"))},error:function(err){$form.prepend(alertNewsletter(err,"danger"))}})})}),alertNewsletter=function(message,type){var alert2='<div class="js-alert-newsletter alert-dismissible fade show alert alert--mailchimp alert-'+type+'">'+message+' <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>';return alert2};var newsletterPopup=".js-newsletter-popup",newsletterPopupClose=".js-newsletter-popup-close",newsletterPopupSubmit=".js-newsletter-popup-submit",cNewsletter="",classNameNewsletterActive="newsletter-popup--active";$(newsletterPopup).find(".js-newsletter-popup-success").length>0&&vela.setCookie("vela_newsletter_popup",1,30),cNewsletter=vela.getCookie("vela_newsletter_popup"),cNewsletter==1&&$(newsletterPopup).remove(),cNewsletter!=1&&!($(".shopify-challenge__container").length>0)&&setTimeout(function(){$(newsletterPopup).addClass(classNameNewsletterActive)},5e3),$(newsletterPopupClose).on("click",function(){$(newsletterPopup).find(".alert--mailchimp").length>0?vela.setCookie("vela_newsletter_popup",1,30):vela.setCookie("vela_newsletter_popup",1,1),$(newsletterPopup).removeClass(classNameNewsletterActive)}),$(newsletterPopupSubmit).on("click",function(){vela.setCookie("vela_newsletter_popup",1,30)})},vela.customNumberInput=function(){var $body2=$("body"),qtyAdjust=".js-qty-adjust",qtyNumber=".js-qty-number",validateQty2;$body2.on("click",qtyAdjust,function(){var $el=$(this),$qtySelector=$el.siblings(qtyNumber),qty=parseInt($qtySelector.val().replace(/\D/g,""));qty=validateQty2(qty),$el.hasClass("vela-qty__adjust--plus")?qty+=1:(qty-=1,qty<=0&&(qty=0),qty<=0&&$qtySelector.attr("min")=="1"&&(qty=1)),$qtySelector.val(qty)}),$body2.on("focus",qtyAdjust,function(){var $el=$(this);setTimeout(function(){$el.select()},50)}),validateQty2=function(qty){return parseFloat(qty)===parseInt(qty)&&!isNaN(qty)||(qty=1),qty}},vela.preLoading=function(){if(vela.settings.enablePreLoading){var getImages2=function(element){$(element).find("*:not(script)").each(function(){var url="";if($(this).css("background-image")!=""&&$(this).css("background-image").indexOf("none")==-1&&$(this).css("background-image").indexOf("-gradient")==-1){if(url=$(this).css("background-image"),url.indexOf("url")!=-1){var temp=url.match(/url\((.*?)\)/);url=temp[1].replace(/\"/g,"")}}else $(this).get(0).nodeName.toLowerCase()=="img"&&typeof $(this).attr("src")!="undefined"&&(url=$(this).attr("src"));url.length>0&&items.push(url)})},runPreLoading2=function(){counter++;var per=Math.round(counter/items.length*100);$(preLoadingBar).stop().animate({width:per+"%"},200,"linear"),counter>=items.length&&(counter=items.length,$(preLoadingBar).stop().animate({width:"100%"},200,"linear",function(){$(preLoading).fadeOut(200,function(){$(preLoading).remove()})}))},preLoadingImage2=function(url){var imgPreLoading=new Image;$(imgPreLoading).on("load",function(){runPreLoading2()}).on("error",function(){runPreLoading2()}).attr("src",url)},preLoadingStart2=function(){for(var i=0;i<items.length;i++)preLoadingImage2(items[i])},getImages=getImages2,runPreLoading=runPreLoading2,preLoadingImage=preLoadingImage2,preLoadingStart=preLoadingStart2,counter=0,preLoading="#pre-loading",preLoadingBar=".pre-loading__bar",items=new Array;$(preLoading).css({position:"fixed",top:0,left:0,zIndex:99999,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 1)"}),getImages2("body"),preLoadingStart2()}},vela.productLoadMore=function(){function loadmoreExecute(){var velaLoadNode=$(".sectioin-product-more .product-more--btn"),velaLoadUrl=$(".sectioin-product-more .product-more--btn").attr("href");$.ajax({type:"GET",url:velaLoadUrl,beforeSend:function(){$(".sectioin-product-more .pre-loading").removeClass("d-none")},success:function(data2){velaLoadNode.remove();var filteredData=$(data2).find(".product-more__content");filteredData.insertBefore($(".product-more__bottom")),btnMoreEvent()},dataType:"html"})}function btnMoreEvent(){$(".sectioin-product-more .product-more--btn").click(function(e){return $(this).hasClass("disableLoadMore")?(e.stopPropagation(),!1):(loadmoreExecute(),e.stopPropagation(),!1)})}btnMoreEvent()},vela.accordion=function(){function accordionFooter(){$(window).width()<=767?$(".accordion-footer").hasClass("accordion")||($(".accordion-footer .footer__title").on("click",function(e){$(this).toggleClass("active").parent().find(".accordion-footer__content").stop().slideToggle("medium"),e.preventDefault()}),$(".accordion-footer").addClass("accordion").find(".accordion-footer__content").slideUp("fast")):($(".accordion-footer .footer__title").removeClass("active").off().parent().find(".accordion-footer__content").removeAttr("style").slideDown("fast"),$(".accordion-footer").removeClass("accordion"))}accordionFooter(),$(window).resize(accordionFooter)},vela.init=function(){vela.preLoading(),vela.initializeEvents(),vela.setBreakpoints(),vela.cartInit(),vela.slideshow(),vela.slickCarousel(),vela.countdown(),vela.cookieConsent(),vela.newsletter(),vela.customNumberInput(),vela.accordion(),vela.productLoadMore(),vela.settings.enableQuickView&&new vela.QuickView(".js-quickview")},$(document).ready(function(){vela.init();var sections=new vela.Sections;sections.register("header-section",vela.HeaderSection)});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(tooltipTriggerEl){return new bootstrap.Tooltip(tooltipTriggerEl)});
//# sourceMappingURL=/cdn/shop/t/9/assets/vela.js.map?v=151937220894115241461713341809
